#include <gtest/gtest.h>
#include "../../../Aeu.h"
#include "../../../Aeu-Multiprecision.h"
#include "../../benchmarks/benchmarks.h"

TEST(Unsigned_Division, Basic) {
    Aeu128 one = 1, zero = 0, ten = 10, two = 2;
    EXPECT_EQ(zero / one, zero);
    EXPECT_EQ(ten / two, 5);
    EXPECT_EQ(two / ten, 0);
}

TEST(Unsigned_Division, DifferentPrecision) {
    {
        Aeu<224> first = "738990655496882959057123534293894057424025353081836774248466306027.";
        Aeu<128> second = "221908390107363490157352179082655875486.";
        EXPECT_EQ(first / second, "3330160951279693645391269685.");

        Aeu<288> third = "467095008378944433161280938782373447531086868501912396460295680896521418144849043505236.";
        Aeu<96> forth = "25259447493840686393567349320.";
        third /= forth; EXPECT_EQ(third, "18491893320027756081997792680749219472806886652468434756687.");
    }{
        Aeu<288> first = "245966358247507264504251798387747294699738953285159039902604202511508556082427951543465.";
        Aeu<96> second = "21410160010686393147493078516.";
        EXPECT_EQ(first / second, "11488300793863229682747466004175031231068387849920774636490.");

        Aeu<288> third = "1299102570739994343072763705182357890716263049703807230696716728938647722995092890758.";
        Aeu<128> forth = "295495281603462748363487871077157106325.";
        third /= forth; EXPECT_EQ(third, "4396356394222610379452366603554276456924881871.");
    }{
        Aeu<224> first = "4893053192318869366367455290448300139643256411559679741697607250768.";
        Aeu<128> second = "152284426619863128385175171740484032868.";
        EXPECT_EQ(first / second, "32131014975898046890339121903.");

        Aeu<256> third = "110881586570202066004268988854934634859027481554365876973105098084478408148456.";
        Aeu<128> forth = "229244460246525989018830845218754050359.";
        third /= forth; EXPECT_EQ(third, "483682730875859344229163806854224554479.");
    }{
        Aeu<288> first = "50666328175235567199399104614466145941725456170940901992608170544631029877381212750725.";
        Aeu<128> second = "23154067231204972260629866505680110034.";
        EXPECT_EQ(first / second, "2188225838221288423042594498024237708336586940679.");

        Aeu<224> third = "5472471067102119427376728410879087974828648270302005317611899732483.";
        Aeu<96> forth = "31636001163564229217173780243.";
        third /= forth; EXPECT_EQ(third, "172982389234606114220101328048284001838.");
    }{
        Aeu<288> first = "157923793761161796032200107267138570262028248607254803453095623606335617125405547705160.";
        Aeu<64> second = "3921277802653431090.";
        EXPECT_EQ(first / second, "40273554108892436913005161148314217967579650073004862827638416961505.");

        Aeu<288> third = "488836473589127872577548020567956659031313229747326222984888109586079552293679207648304.";
        Aeu<96> forth = "52026841301282857643207289863.";
        third /= forth; EXPECT_EQ(third, "9395851475170650667546577767440880705655317781744581891864.");
    }{
        Aeu<224> first = "13037462193427945150883862495160062397319918765012195684310472132411.";
        Aeu<64> second = "11522534317165187437.";
        EXPECT_EQ(first / second, "1131475232319851780158336031395810805300020634822.");

        Aeu<288> third = "186134338487010101546794332877383390106250510533753089413365186774051177191910766850698.";
        Aeu<128> forth = "114693632125506998122068727058663467608.";
        third /= forth; EXPECT_EQ(third, "1622882936371976919339508266663317481955451621659.");
    }{
        Aeu<224> first = "3265280766728945955725117651192042427215130672666415180501151522269.";
        Aeu<96> second = "4120849314403453556050336729.";
        EXPECT_EQ(first / second, "792380530711455471789310830190596136587.");

        Aeu<224> third = "23914767436622592419628224409267243982965016103317746489646491319376.";
        Aeu<64> forth = "14784733384279084667.";
        third /= forth; EXPECT_EQ(third, "1617531193497994584136135817759417976366725954837.");
    }{
        Aeu<288> first = "68248879839175939494051413175799653864068472784010981712560270018476670481214479180626.";
        Aeu<96> second = "56797824960251821522440175663.";
        EXPECT_EQ(first / second, "1201610799127216227000299581255647411766601873979695583538.");

        Aeu<256> third = "47104893372428687275030116024555773023287068529740842415381875086719244352760.";
        Aeu<64> forth = "11475648350264971329.";
        third /= forth; EXPECT_EQ(third, "4104769677030147146193141859576362753749733740655592303220.");
    }{
        Aeu<256> first = "51859021635216863756284503169342567572467496658034837542300793213424731597584.";
        Aeu<128> second = "65574849106684634682087388731564955811.";
        EXPECT_EQ(first / second, "790837071555387030846936971303718324418.");

        Aeu<288> third = "314063782521569776290933636993841073555516946458097926626392938332233048150492606997465.";
        Aeu<64> forth = "12827834103872749057.";
        third /= forth; EXPECT_EQ(third, "24482993775757770770775002522124917360662237681526479731270565592396.");
    }{
        Aeu<224> first = "8709186692686742695983559684370138110273072852730733262829452748560.";
        Aeu<96> second = "11282244863855703734073905119.";
        EXPECT_EQ(first / second, "771937393469262180639540574137865623865.");

        Aeu<288> third = "179162126982314753822746764838441069535302904786991948292661350568034151041172267663571.";
        Aeu<64> forth = "4507265989019082747.";
        third /= forth; EXPECT_EQ(third, "39749623700665122164442505143765750101063810181660020768769568250055.");
    }{
        Aeu<256> first = "92769367264826471017563165809582607465263834719858395552062965994356783830890.";
        Aeu<64> second = "1050942261960598456.";
        EXPECT_EQ(first / second, "88272563225080909631807130784127016036175324961664224338001.");

        Aeu<288> third = "371069769923453078349395152911418631671343244937538323982386889956829239761709756464863.";
        Aeu<64> forth = "16508235083217941710.";
        third /= forth; EXPECT_EQ(third, "22477858356928646329354451765800184132099945895195827208773486218356.");
    }{
        Aeu<256> first = "102676093578580628957106154530128678547142554214391114358805106871362027946707.";
        Aeu<128> second = "186030001034274020933885731426615926731.";
        EXPECT_EQ(first / second, "551932983968879655655405578384909726057.");

        Aeu<256> third = "91966861171963819899788023637156498486079029930261883272385934247677738796952.";
        Aeu<64> forth = "14929602830965556545.";
        third /= forth; EXPECT_EQ(third, "6160034008487817136758354491872059346874253970040743679959.");
    }{
        Aeu<288> first = "137900497835261383784015129913786954781483113846329689340809137154081416150995294424526.";
        Aeu<96> second = "37667591904519840859201461686.";
        EXPECT_EQ(first / second, "3660985235924102520866274662464427120042929865157979284031.");

        Aeu<288> third = "144180221383797786122885885401808844281626614339418508146042810032264507150215661936683.";
        Aeu<64> forth = "8086601847110239047.";
        third /= forth; EXPECT_EQ(third, "17829519013022860025869883132796033777457945015901279874761645735912.");
    }{
        Aeu<256> first = "1130240423551610419493972734955523430001811406936146250507366911007296252141.";
        Aeu<64> second = "674021798501318675.";
        EXPECT_EQ(first / second, "1676860342001830947730815074715309073840230104580512294921.");

        Aeu<224> third = "22217113366528616030775837627356814519093832115419263810003415887749.";
        Aeu<96> forth = "59562871473251886719711150168.";
        third /= forth; EXPECT_EQ(third, "373002724969459123073261445531430496530.");
    }{
        Aeu<288> first = "312479128365849788630161883069573287784701119815381189600815775681425291964233307113006.";
        Aeu<64> second = "12024610631678437472.";
        EXPECT_EQ(first / second, "25986631745283618563024780321359786335864303361260103050180949234064.");

        Aeu<288> third = "175814209410483835268995207686091640206758832768156556885004241051019929929087382309423.";
        Aeu<128> forth = "186342979682628828660214183364306792640.";
        third /= forth; EXPECT_EQ(third, "943497896781101536140710727244961884066528990706.");
    }{
        Aeu<224> first = "26436057852066122710932209945665129827305497730674286685901668531508.";
        Aeu<96> second = "35938927079293363271730906996.";
        EXPECT_EQ(first / second, "735582834560956307728407278377552928692.");

        Aeu<224> third = "5661762926699500339311604700772811220953241491618216446753537119604.";
        Aeu<96> forth = "64009957052248414331844697865.";
        third /= forth; EXPECT_EQ(third, "88451284572462077654351545080217581362.");
    }{
        Aeu<288> first = "416141789879479268242486417320251759155536161723037963863074345159388980687792586114816.";
        Aeu<64> second = "11359476361560590047.";
        EXPECT_EQ(first / second, "36633888449969782457873376600410423394433029909367215072796063043937.");

        Aeu<256> third = "32048871161630268977392968938190084293909747350730169952936169163745519109520.";
        Aeu<64> forth = "17306876686627557238.";
        third /= forth; EXPECT_EQ(third, "1851799821650856049555195005761401482001795788936380261015.");
    }{
        Aeu<224> first = "10312745328736610695650338607063803399460470195450306422376089521833.";
        Aeu<96> second = "3287565150435248476673291881.";
        EXPECT_EQ(first / second, "3136894588194330416434199956063620942899.");

        Aeu<224> third = "11017163767178082258478885531079914786493043292035771137307163295223.";
        Aeu<64> forth = "16970388394052875662.";
        third /= forth; EXPECT_EQ(third, "649199270597657684774148324972514142525990467613.");
    }{
        Aeu<288> first = "419143021639472269454282152299858669326608431251667649471298016929564701636586436764838.";
        Aeu<96> second = "69108573569061404073823355913.";
        EXPECT_EQ(first / second, "6064993096994185974303424814116099617981510938330570076478.");

        Aeu<224> third = "13688159019991095211974421250360355102990189633134117018683905862901.";
        Aeu<96> forth = "16396721248993282772593786757.";
        third /= forth; EXPECT_EQ(third, "834810741253012004873692609722210731753.");
    }{
        Aeu<288> first = "201401626714331924835817035344040688685596146040749796853956985024443709477182565992240.";
        Aeu<64> second = "15461246398347819621.";
        EXPECT_EQ(first / second, "13026221918037189621484709423488662753838559637183582561631839652571.");

        Aeu<256> third = "74292646195823436181705480685661610243257282002796028046390174588261424980526.";
        Aeu<64> forth = "8155204438207146212.";
        third /= forth; EXPECT_EQ(third, "9109844732740514328404887838766503001696048242403124668008.");
    }
}

TEST(Unsigned_Division, Huge) {
    {
        Aeu512 l = "26798225348274056972938246750634409042300118548029753178688918538921246745965062080208195936268051570559256721952774348347597310192441914363134413.",
                r = "14848174508235532944.";
        EXPECT_EQ(l / r, "1804816163320981579388403504226331702370491441953754518106499184836919057540135315245317190025441606331823765598845887159809989."); //420 bits
    }
    {
        Aeu512 l = "1584412475203538505747399969787911789165283498226191286327791162764886869483756936119437291922692352992289100016675696020468783686225850810157074225.",
                r = "3550934752529832776.";
        EXPECT_EQ(l / r, "446195885203110964188862224353169508352235950410775367272828929076955444045795442307338916036733510201010774960770058981104221719."); //428 bits
    }
    {
        Aeu512 l = "2674854380258642924560313537004318989807670884895971967679398528288203572078822506728595752333073172859542843244992660809020253908028697553610367891.",
                r = "7938465303238209696.";
        EXPECT_EQ(l / r, "336948550895288647290306900835117721898675072692230678105239349295784237135669437027319085705438190004097882300377708851466589221."); //427 bits
    }
    {
        Aeu512 l = "2211375264545727466519853165499813483557268796378599912413589068329858409290413458308984992725998101883983373058864719967486647400535821168779826888.",
                r = "5823070757234552258.";
        EXPECT_EQ(l / r, "379761015577275366914424401644319010870864274388296283318592449366054443241561785490037423650148200949009782140903621635702138315."); //428 bits
    }
    {
        Aeu512 l = "668569771912501062787957384680216226234980218804408453252306718068127526638666740144024774498982468312936996101772942752519815713991776512611268698.",
                r = "17734902611072297731.";
        EXPECT_EQ(l / r, "37697966917230092328051329055024693955042974173256339975967443095563356063866343231641563751695505481927315651078403112411997415."); //424 bits
    }
    {
        Aeu512 l = "798029229266887019334183050354238301188940751048973567678215544979497578261532866410483575363674291834124146965735131578807695502799958576189964314.",
                r = "11421332994983413751.";
        EXPECT_EQ(l / r, "69871811776909489416598172094199138023139302524802248260828178729142420155848973751741234933559971573204242357411558760913622290."); //425 bits
    }
    {
        Aeu512 l = "786223064326130376303396683162963039984177586283145501436464703682466177733044739057956027635513755671316430377597974450500625439915804033963530454.",
                r = "1999889798777482368.";
        EXPECT_EQ(l / r, "393133194042363053076555953480239030644759308648382568207129453631457374753362815066297013139032512282786453565871971558397059740."); //428 bits
    }
    {
        Aeu512 l = "1677765789388329651238741333372928111734082676419516987661780378300193119919931842452246730923363417222098289283203009827194167387481438852375675273.",
                r = "9132238631793351365.";
        EXPECT_EQ(l / r, "183719004401318072425270884581549716947661828424654734859685769061628491688043593946318351685497695377498139968514218537201993434."); //427 bits
    }
    {
        Aeu512 l = "2799717335201067320453806686479454377335515013289697777104753581489760712772867274838342728847114633732623472843540249828033034064373527326851796856.",
                r = "13598417749987411976.";
        EXPECT_EQ(l / r, "205885521880195143463987720782446362033585101978036322290105813978807960927790444218548354070524740399214734814885307850689941179."); //427 bits
    }
    {
        Aeu512 l = "882673557312330304162870545868516207018133147106518462119744150298239186703885833711476101782738673292140780593976066504666384532707715954203717490.",
                r = "10062240037494007661.";
        EXPECT_EQ(l / r, "87721377548468760666323744476995009748473084853720338171426116505596929028482328719995386867348752782989458906741861034227206105."); //426 bits
    }
    {
        Aeu512 l = "1697713051615669258720743556575660306247549216653491714852156172689697592237994233174684741296479521407818149338517422926624182389697194532853920394.",
                r = "1846147089358579796.";
        EXPECT_EQ(l / r, "919597935289932913185368737275063934112499740952371166505358595556588435048831716181264370788102379803688566638037938402872368636."); //429 bits
    }
    {
        Aeu512 l = "2203289053830251730633023993822947474945776316216052104220838442179944759136202107734905131898236726485196054937074050599936036320417524301074738243.",
                r = "11701670978850768686.";
        EXPECT_EQ(l / r, "188288412638879261199410121737886599267167884109731727283180299717595008390807416817979423742856673488367216758283804594682028349."); //427 bits
    }
    {
        Aeu512 l = "10181580127022884372771854510859839788915297516740682702375607725786763664374483853465861845719543491401384037603103200913671848511630446899269737.",
                r = "15454052453576945470.";
        EXPECT_EQ(l / r, "658829142557121867138361707317832677389632521347749484969303110578674256662897885563335973852035844594490552088375773156079659."); //418 bits
    }
    {
        Aeu512 l = "800855987617488284776977987674888607941229931695242402603384520047809348303162675785587747845489935307282903521225585626631794714248742481416555235.",
                r = "12090439126148089256.";
        EXPECT_EQ(l / r, "66238784155115643771787873719845194970318409288264341515430079357521211287978358711082288522649697533011372168165606136703776429."); //425 bits
    }
    {
        Aeu512 l = "2669708061082222999516481581921720126503426395462168986488870678708426323971743574515554840813094913938055563189776069677152035084851611436506365641.",
                r = "17946324652565084565.";
        EXPECT_EQ(l / r, "148760713559287984310880376332427414969990834548944569471827994960275620098304796534235739714965054079964011096548958789615208266."); //426 bits
    }
    {
        Aeu512 l = "2455696741185247070638997632198919426920869257394925398046122811326308152288338049357237772570557333735844935788115801542173758972695943506285704814.",
                r = "4929208739266205904.";
        EXPECT_EQ(l / r, "498192888774034363797417255746929546594224416800357329317173171747150950869650414099966339023627509657892314553970413061803530242."); //428 bits
    }
    {
        Aeu512 l = "3112437142389404801930088483196426529742134893100945829788683684955242440357505682422307391140710495282573041063115823976312852461064317735396549418.",
                r = "3146794012595678545.";
        EXPECT_EQ(l / r, "989081944967241760489987813871724153295895947835650571051915251217472586206564871807501634096253772138865441607645629322078436416."); //429 bits
    }
    {
        Aeu512 l = "2355051802684324636579974104970059841942978034440320064710460023640571230113189394503289573878065084281306445872410228083699596223377371077249180788.",
                r = "14965088323482904650.";
        EXPECT_EQ(l / r, "157369722902926435713288200855490995217411083689780137586637752964656798126202769156488791262947500968621561870135270017300022733."); //426 bits
    }
    {
        Aeu512 l = "1135590322420679154270524765561587967188546098311641895393508594619054726039055075728881532774380776795016407113617653547571507682664685863511727775.",
                r = "2848521580884698591.";
        EXPECT_EQ(l / r, "398659546777239305642895133337729635021371178472620368531935721723038676971551911491450034791219037374582201892937191762195616323."); //428 bits
    }
    {
        Aeu512 l = "464300862633193228780856732743025434573927928601756042432581064524013199751375653473155425962743932684899358958357951616014533827543864185576010482.",
                r = "4636497684631086867.";
        EXPECT_EQ(l / r, "100140428015793638387231101866047395116595128734698818611970714595440163015422342764570065724128870567785833865949900169209210663."); //426 bits
    }
    {
        Aeu512 l = "2442554478004076557582351475180132941863225046831397380109569127131376285372508818075200225430489977091799104355456362621879710067919896731731917255.",
                r = "1728574516528802365.";
        EXPECT_EQ(l / r, "1413045520831255124389515759518803311470843524662828996446300337693973079086882250211147305287655607606047695399361280987378530340."); //430 bits
    }
    {
        Aeu512 l = "1933877906905525685103920259898055509060199258998717884192541017329934107583942879417093530502644630143585732580718404069227619923365784687452590173.",
                r = "15569230757138021145.";
        EXPECT_EQ(l / r, "124211525737641288920836696903350150133276807269907247393186292344509328047866698305674444824796804395621814679337381229631142702."); //426 bits
    }
    {
        Aeu512 l = "1943356241570038923501649004549473664940358634931993591843740545734269305742787021384298843809411006645851300945260548680315264718399239220054257353.",
                r = "14452725595019833145.";
        EXPECT_EQ(l / r, "134462958477512843150955535255348387932988130487549216350322747647223768098663691784023778284709290114193357471793795948254170458."); //426 bits
    }
    {
        Aeu512 l = "836200198350087328566900054204051436948355773248008359399557860310280384702021233249053606861146219640274942392383079729425791131734333893226011488.",
                r = "4413056635246714218.";
        EXPECT_EQ(l / r, "189483223866067407305472819311641175711226493762369882019448158983597538028614783872493548643253467350234833824941691596021258130."); //427 bits
    }
    {
        Aeu512 l = "1769201880198520073983052261783032218960446395587022632801861828373392364686144552128673344540040638616698671084076181739889683899874380324154879347.",
                r = "1562942498266147865.";
        EXPECT_EQ(l / r, "1131968631066841103694679770452085810642493433746101084733456440057335262947328401525126539249216490586898737711322048731460326765."); //429 bits
    }
    {
        Aeu512 l = "1092901112332437484845340822142545260116668908223443554985258042694141743003089766493490661632155389308084470789895257617602177526781667522113682841.",
                r = "3773724300289575051.";
        EXPECT_EQ(l / r, "289608096767581618364080131624375479531839055093362756914384474933465133115480476134638032212889346013829731960170981828195381282."); //427 bits
    }
    {
        Aeu512 l = "2620533658681578205711524469439185321101001336614684565510045180835761701001950178641046561082442764299433756852707121222398149907555534980712670764.",
                r = "2847450022147578352.";
        EXPECT_EQ(l / r, "920308921420556729882924423921830710073150559971127460379225234616269007105497792713757736568311501626570852599853805400513825020."); //429 bits
    }
    {
        Aeu512 l = "282444336327889879688832647159103002940690526504255329444861227423450096218749267065388302106119907442039742296822433807581744431999517621097592800.",
                r = "11205117964996774187.";
        EXPECT_EQ(l / r, "25206725820308772793243077192574071465499143939396417200938393119202677390061042664957607796888739166229728073298197251543799763."); //424 bits
    }
    {
        Aeu512 l = "3033228683154188004687948248059747843070709909321089111243712289060008917100710942827820690433949202102275935229862898412258935863716457200900739450.",
                r = "3784625970863486987.";
        EXPECT_EQ(l / r, "801460621605927728530145506667201398728197112120723664261197106341134219594515534486900989540892590682162464474949992830675901528."); //429 bits
    }
    {
        Aeu512 l = "2562669831583976537412811518619618515126199726707720177460283189124780446049618175805221471845228163436624224859418316968428404217104578537977632552.",
                r = "18339687035143834304.";
        EXPECT_EQ(l / r, "139733563973758293607282733011718885850237264799529653055662361358837537929914477642993138578055603383009095469743012345568543938."); //426 bits
    }
    {
        Aeu512 l = "79523457668771110040677916297550650214293774036828513908587942017110070458508221714464365279217830464330621597511146116913631918400878613526683210.",
                r = "8808470626065254299.";
        EXPECT_EQ(l / r, "9028066397071503374575885165921261301767220474736912232206442235568728097060942789839650138737686899351424492564628478219539716."); //422 bits
    }
    {
        Aeu512 l = "1753646492207818428132907588857893673630083532274681730667507447237026327914997186867238618123184085888595026250929134406100842444465053209293840931.",
                r = "4493123444894809535.";
        EXPECT_EQ(l / r, "390295640374704596621959835696033287587154835549249699247008236494586067214250033867036749935528074454318034972959321789297666610."); //428 bits
    }
    {
        Aeu512 l = "1941230240138761397832699029675478181397015029820747321769565435392684620063799448621555379862315831905919714628305170568246121303699096191444409979.",
                r = "11811030724560919123.";
        EXPECT_EQ(l / r, "164357394829393908540173116213424733343569257450283438631989052888167307147559328084521099071749141200489698452682081240993072815."); //426 bits
    }
    {
        Aeu512 l = "3165484975172785786220668641346172629434296325076175723324479972804189328049904399784744235803740902194036740224443984718243772262057348335395077050.",
                r = "12550120121942090190.";
        EXPECT_EQ(l / r, "252227464312344550064042669478993918131337361701972482920155310041368205417794416605547266098783320419906075185941544229476607854."); //427 bits
    }
    {
        Aeu512 l = "1212188026939963620975064686252300022410078209989252463265242988160975067245930547832222356474458165170708681278016050298794183560367991287104312512.",
                r = "8920372111213472134.";
        EXPECT_EQ(l / r, "135889849865810707180180598292363966114284278677232023198203953372693217276507987752135660684768030595313732702182465869932329565."); //426 bits
    }
    {
        Aeu512 l = "2956233243256271039156396391543590638788110894792007896796420727832586667311830844279019138051415649988820933844215914406021924647927062183533798335.",
                r = "2775109177015487482.";
        EXPECT_EQ(l / r, "1065267365962003277970808444734596741407711410188672844300831282412853604368454314513885368657537148705726024518603888896425384943."); //429 bits
    }
    {
        Aeu512 l = "1303602100641826500345573373547096450627084599242550531660405325982727109299509685480404083126572375829412111894131363441218403136724385678944810038.",
                r = "10253868844256902918.";
        EXPECT_EQ(l / r, "127132706731660799172688488822397189610825138956354128014119006792179561766914378574679040766418120701981385737111748945993326959."); //426 bits
    }
    {
        Aeu512 l = "1296039676099832702968261200840063795885749677862272943785372317373147663123698311553047795406888230538578358794618868791010659105330881891125009215.",
                r = "7002196634193741154.";
        EXPECT_EQ(l / r, "185090442872012192477350884454958269123712443545812359174694776079203120762909712874544263653245669146731118063690324331106330678."); //427 bits
    }
    {
        Aeu512 l = "1674808987512665759408550382592937485650709234795516162603731505415266284868639273345119543539703903696494208264879600050730799616746933820600046136.",
                r = "5718335596252857574.";
        EXPECT_EQ(l / r, "292883997331346521828014031607767816007769989805354032920516432110408856286731582340719610196142867591164696414990623624949936095."); //427 bits
    }
    {
        Aeu512 l = "604323039894072181090577763482166860057074078689624722985191123978180640545959769295021501137739268979696688352487819322873988390494134981170098266.",
                r = "11461574201875207146.";
        EXPECT_EQ(l / r, "52726006851240381645226956769801310009449625615977206473355642074561335730682098425671867893647980087618333272555197055703649956."); //425 bits
    }
}

TEST(Unsigned_Division, HugeAssignment) {
    {
        Aeu512 l = "1561887125123927869065399443905819287402853216284668279505212512528242566537138622627640923823742177340459597123715326947243254974803644465105044208.",
                r = "1140496372038586241.";
        l /= r; EXPECT_EQ(l, "1369480134629560030328505766480067553189519140338849911994270533428056229814192770428627980206784441044111785080309696923081681363."); //429 bits
    }
    {
        Aeu512 l = "720569518650760454782896747608253809571010923469633127559459562696235180244775673441897583691700159450444063572931398036307002656616979882608240128.",
                r = "5543279786711836631.";
        l /= r; EXPECT_EQ(l, "129989743685333257969053124237036144318856264397199722102879918874148075230465878305697378039239484593725762746040336226546790638."); //426 bits
    }
    {
        Aeu512 l = "393561681261279331404337433217245037183872252484353390696464936604669475178489137718453272935578791119841282536943552991369617527087057120881514886.",
                r = "11988014583246057992.";
        l /= r; EXPECT_EQ(l, "32829596471404404765430320794989978986843310765659629263969068169135109928042422051236162570727087998563424610743129744740216370."); //424 bits
    }
    {
        Aeu512 l = "3005378515743840546454584995304832204203482879890542502185531524213053650687916973297434841326287835935857077366036900441963313540413361964318063676.",
                r = "9426507455422758387.";
        l /= r; EXPECT_EQ(l, "318822058960441977083064816635856016230780949836375186750687997661537840650470844383857622097858954993009197105619510274648856228."); //427 bits
    }
    {
        Aeu512 l = "149074864693667726264842310948542522088402743571110634383320599549171855746561545326369433408898438961674653805027313642452506687742842108886198315.",
                r = "6130857521545787691.";
        l /= r; EXPECT_EQ(l, "24315499776299013716131188449263907023944216221637005630049544582491548427109814102516065658614570533493729366769137306850273989."); //424 bits
    }
    {
        Aeu512 l = "65854616610255182746006215415435859595592341826821233019676927323649681573812224809449515542523641899096485206280418901542146753024570604669781656.",
                r = "5578896848409026906.";
        l /= r; EXPECT_EQ(l, "11804236285357275439001555803282932736559745620695528440481534022011463181413376820302716110499253300591339686556838675421731553."); //423 bits
    }
    {
        Aeu512 l = "3053083672096466395534182760722559270209496822795011530763779506726237869860220928101141725194812752245603798955443402631000407848641688777978411546.",
                r = "13566647454279828861.";
        l /= r; EXPECT_EQ(l, "225043341207581789770626318209824062575527599934204711442052581797897630280207169451020381923407186039212881048959803005325555866."); //427 bits
    }
    {
        Aeu512 l = "2628180844187769470185552706306221194160643901778261964242663687761410473522087441633016358001972547780888168521230771860716644379829889785814214932.",
                r = "1868953555973885861.";
        l /= r; EXPECT_EQ(l, "1406231222700588065229212051336474144320427255899638665040542838352936390377744921120714597029110403718900837496409282231684460529."); //430 bits
    }
    {
        Aeu512 l = "1238334322547600445441193485985886155690845246517306848517259181090625858467208421885905204722008476827437160111761496359413587608091166601240489691.",
                r = "16540734776835369483.";
        l /= r; EXPECT_EQ(l, "74865738387984892520086031086819436030737487603250721598379658141349458380793311857889854038091569964768966742522787936713370352."); //425 bits
    }
    {
        Aeu512 l = "2726661624841484747678710080320479003667683233872940194995585534452043464944417933562392280367261206238062676857141813553353689949271888224329332531.",
                r = "5733226873281934454.";
        l /= r; EXPECT_EQ(l, "475589346995548369747080757162502345004124965134705667037112427168592421940604069852937503229186341492441195568262812046877862024."); //428 bits
    }
    {
        Aeu512 l = "2574835144590676839217339285406049182482386998875199317608268059093327498866370478619802603284621298263114510601541088611068080509194147765587252102.",
                r = "3881576197650076010.";
        l /= r; EXPECT_EQ(l, "663347829201316160371123120096634636630634701892097486714548160755558657804073070740127330729669449333347868930169335030817799135."); //428 bits
    }
    {
        Aeu512 l = "200131628499400548708087656096770942922882174099368608502514527307651610701329995674861487201400800650718124220231592329572738812209765060274103653.",
                r = "14353024250742352729.";
        l /= r; EXPECT_EQ(l, "13943516363044502017344910099747719967523554624381666905866492000284374511194894795807086858288106909867996062742479406222323075."); //423 bits
    }
    {
        Aeu512 l = "1090931831225918816057928052643686566425743095589999588365914885895848124822781011673812991644444586185859420449834397405322664264550639280070053426.",
                r = "1240511972746417753.";
        l /= r; EXPECT_EQ(l, "879420638569624089911616028641751924767545074463484135208864696988268285745953228467638403419241080802049668531757665314537809700."); //429 bits
    }
    {
        Aeu512 l = "1706202537193107725428349056866706970263111799639643582148469552552299769380520050315027700350282703653609934692560044038571108194166572384624958200.",
                r = "938346827281275944.";
        l /= r; EXPECT_EQ(l, "1818306928299190303213178542452484834260802645349865690844382074184638388900906740294530813730748312089092343020513014589545256331."); //430 bits
    }
    {
        Aeu512 l = "502078412943841973296845507657368225497682550303910924390609948584433321269329070244493119626145354085343410827575745446965097975556210718249667542.",
                r = "12017771269535641462.";
        l /= r; EXPECT_EQ(l, "41777997074763925253093218563398059451292630027127338751570506462713143886809396502447792757057883707861399403013624170963488248."); //424 bits
    }
    {
        Aeu512 l = "136113670699501791731504919925715486839952593682519505438811704687265311008106825243241897143923834698344663005962692232740915705945325834954585903.",
                r = "17384496352949372804.";
        l /= r; EXPECT_EQ(l, "7829601038537385028256662758371974012845685357645560689264999875536551027325904482432050073094987904828896211925714228238115951."); //422 bits
    }
    {
        Aeu512 l = "700824952280885663901253737643138197548852888503157783184779604561869609359973259680738199241750600327811964730473728949573775916461771873450571548.",
                r = "15027008243885750321.";
        l /= r; EXPECT_EQ(l, "46637690011652195977486049703747741549085165529647374704015879563325016540863075804751750959071088571738842970849404974268324943."); //425 bits
    }
    {
        Aeu512 l = "111708294705621857408533934460193952663054119172457797763431591281392558162921979946661376803977447621868671691372892477775065505688921233420089470.",
                r = "7468256279415116070.";
        l /= r; EXPECT_EQ(l, "14957747903419619095641862696757376300114592703741238000786053939000289433018285427851249816360187638053738098641572108462683321."); //423 bits
    }
    {
        Aeu512 l = "2411440022415178010443430447593837676043184947215830525858009980449498292674462524791336142695644439592187136715779252404389388623437304100341091940.",
                r = "10940859822327674653.";
        l /= r; EXPECT_EQ(l, "220406810943140542245108408965358914474910167247256379261843108291387581222283269669133610844566916054219475728004876773328745080."); //427 bits
    }
    {
        Aeu512 l = "2366215880462692860071907954615888090555844876147713293168121965694715648916994298775448721813519321600628541619769894703733151677372624889954012776.",
                r = "16716553750477373436.";
        l /= r; EXPECT_EQ(l, "141549264027887386868818230726848172907309234500360397212861842390144976372412904715268310484082347808257268812933111474518342694."); //426 bits
    }
    {
        Aeu512 l = "3031445624059100112612272013880539089975819479885237266600237781224644619440259514683514174075294179730002023691561552655091456632784289340011654008.",
                r = "17382492945226499395.";
        l /= r; EXPECT_EQ(l, "174396482346427865319675981722338101516754496914092881899090934824521171215267306886202490807470883268902532389380440893653927057."); //427 bits
    }
    {
        Aeu512 l = "109894143690523854616659599874117123093731700354426031890602625439900725482563060817216153734312050747125075612190061985239824629810347994665091051.",
                r = "7345575360038681851.";
        l /= r; EXPECT_EQ(l, "14960590328753383219077167086431045717158399763830170891819658845642667304991760258965186208061316247940255666810469964143742224."); //423 bits
    }
    {
        Aeu512 l = "2470293924619490648200886485821494627562987003007061101110172133870405021610967240178944713354238740389331476823553977881291187765517730352506465185.",
                r = "7572875207569764113.";
        l /= r; EXPECT_EQ(l, "326202909319067026442112718616882488473604179535592509842871165587178777680987104603837016422551927354211020572300512086081393434."); //427 bits
    }
    {
        Aeu512 l = "1188795946570657173559749507101249235607694086587898250131462041512102347739268771136980816388705178065383181835662719978852468481154281470025043549.",
                r = "3343260714054276151.";
        l /= r; EXPECT_EQ(l, "355579791182075808378312039720950373424775566652499104003385969741589786866467157872079320013060567494939607782607912429459088320."); //428 bits
    }
    {
        Aeu512 l = "1488597145763857114900664778844495542287597153841399913681994108076491022202030650624731348315901122006279936458446380061775000504366657892378401531.",
                r = "871058971552546428.";
        l /= r; EXPECT_EQ(l, "1708951051971408162567469660429910057626485781453034408788990356129450385048907251037005899170177097693734006673087368607598452996."); //430 bits
    }
    {
        Aeu512 l = "2054950734594744317772429089714665589490718469275767541900121875525120123388877823829818045687855704011929650267627920469816800737301054292508305467.",
                r = "5014203907991144628.";
        l /= r; EXPECT_EQ(l, "409825920984139897239692840709413934500275427085354007687359801925088076041755339574820513412749919122641021312137037314916412513."); //428 bits
    }
    {
        Aeu512 l = "606957395323141079516200076908764072434637391677185860458553961224199704119088966795014168670062484069165383929486434098265174707868352433162800688.",
                r = "5140915545500456531.";
        l /= r; EXPECT_EQ(l, "118064066594981409349785904482521362463778307504790910843810610801033099448945102370596732129011033404934933178507910920958788451."); //426 bits
    }
    {
        Aeu512 l = "304265771831981023908246159660034344446792983170423758143289525195167456199795795563675847683109313473694942469999631398146211981321292281274515992.",
                r = "11923642437689163610.";
        l /= r; EXPECT_EQ(l, "25517854415881713615624641073904782205215207148165666279628800122148715087945348634644398950903328603932891632407559388391061442."); //424 bits
    }
    {
        Aeu512 l = "1161638236237353785867724811634803785754895611086897438691472237895075999187594028615314498200091309943415707074388283281293845666058792977760132393.",
                r = "13718394616417878719.";
        l /= r; EXPECT_EQ(l, "84677418073914436437929771798052697867075485431400415881074656916009017159779280250159040493256273781753170064061669575807937033."); //425 bits
    }
    {
        Aeu512 l = "2450437191365112358447340486626885926867964162017977240497257471235747983833757882840729600333507888774993172444819582300856085552217006386196776930.",
                r = "2368600846121801045.";
        l /= r; EXPECT_EQ(l, "1034550500721683448370332207698694673595124649228533270276457409953491181182930834592112734775856112702530908894226386446515487403."); //429 bits
    }
    {
        Aeu512 l = "950174209219329316602813390178700359610554178758345857872829392941949883870993448922110603015271337613597773502110885184706706085981930537726807292.",
                r = "1347482313699886087.";
        l /= r; EXPECT_EQ(l, "705147814972326224236853471641883007150648377803149350294504042137833353671234531716679521382932701069052308048032351803233453894."); //429 bits
    }
    {
        Aeu512 l = "1722698366486913412570234329775636805792412094878989945205361669589004078730171945934182148748510441571543767176116136263442254972335781742236086490.",
                r = "10066993475629571519.";
        l /= r; EXPECT_EQ(l, "171123421372752899319835232309931945372332762065717479529625138470320362932670622261035031649800031501815002944289741243009625592."); //426 bits
    }
    {
        Aeu512 l = "421233035451656728664219242524366938422088308104953915772313109012868140282111781540742991075843909674650380119068954326379267143207902398169336648.",
                r = "3525904783735985118.";
        l /= r; EXPECT_EQ(l, "119468068847090590283975104859638482008010851745949479913902137559905923792393059682207413013754502260263543012987150172531429896."); //426 bits
    }
    {
        Aeu512 l = "3085387703308615683556590226293753587692940810710330434319042369421205792456499600763168311460144131558374456272349100807937511536874360467161195303.",
                r = "10686685047606228502.";
        l /= r; EXPECT_EQ(l, "288713262303891819283496548611204220670825604391649514012803868049859605328071904476967418038738526717801775341356623945222023605."); //427 bits
    }
    {
        Aeu512 l = "1107392624278344755865107805276873551887052797068334698243920479672370763262878966575907525037197763468488429375353673691012621726344993205972486680.",
                r = "13348109488100865000.";
        l /= r; EXPECT_EQ(l, "82962506807838729844851805413290491772900660793235851310018168584113263657149467205293959454787458981028796632030757891452114176."); //425 bits
    }
    {
        Aeu512 l = "1504900783222414965127366417475534357139744241474480201468977267510909978994488712379678885550328856994853530861748071952831737572133042410916478839.",
                r = "18234737015423829138.";
        l /= r; EXPECT_EQ(l, "82529338479052182082708227096764690277262779608309636846610886890770870192457107630542918225974899232246158067803004230776565698."); //425 bits
    }
    {
        Aeu512 l = "2353927238818978649777857797370183183677788503400982437543423462865556744379921189291119927803568509348818157384667378628552420980598880717067162440.",
                r = "14150704187240610860.";
        l /= r; EXPECT_EQ(l, "166347003489866235743801297590004127318666963448077658936549779492754427720223756993765574660222212147881420703509698970365392409."); //426 bits
    }
    {
        Aeu512 l = "2091667887196134433682229938015627121438842428391771343445665520309222323169435227535965948773059181731054474871868676958514814248988723122497797127.",
                r = "212140254615661013.";
        l /= r; EXPECT_EQ(l, "9859834904910684645980291672262513518336031377462271687472656480926940081446966298070069115342816951652570134774493688169636601021."); //432 bits
    }
    {
        Aeu512 l = "2941922703094603411751394000423219327584149969294995795030784231477632177985291608794391437712171741757185842678727315700549938488530507855918535165.",
                r = "14069637048394265060.";
        l /= r; EXPECT_EQ(l, "209097270453778919959961331570979838370215625839587928870942509783359288338978399492815887363850973759442205667792035918367179430."); //427 bits
    }
    {
        Aeu512 l = "1607397401586769156746243767118808523536358867369373561240538443727727097978145923783142392746492194553485811040972484813546330552167295160440990412.",
                r = "5081672211367652543.";
        l /= r; EXPECT_EQ(l, "316312688959165137357034200333735496983571489793203954806554614591893483476605015796805017040923354189015794589449784813278952398."); //427 bits
    }
}
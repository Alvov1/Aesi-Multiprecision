#include <gtest/gtest.h>
#include "../Multiprecision.h"

TEST(Arithmetic, BinaryOperations) {
    Multiprecision a("123456789012345678901234567890");
    Multiprecision b("987654321098765432109876543210");
    EXPECT_EQ(a + b, "111111111011111111011111111100");
    EXPECT_EQ(a - b, "-86419753108641975310864197520");
    EXPECT_EQ(a * b, "12193263112862162186216216216919326311286216216216");
    EXPECT_EQ(a / b, "124");

    Multiprecision c("123");
    Multiprecision d("123456789012345678901234567890");
    EXPECT_EQ(d / c, "1003712536650411410484961790650");

    Multiprecision e("123456789012345678901234567890");
    Multiprecision f("987");
    EXPECT_EQ(e * f, "121932631128621621862162162170");

    Multiprecision g("-123456789012345678901234567890");
    Multiprecision h("-987654321098765432109876543210");
    EXPECT_EQ(g + h, "-111111111011111111011111111100");
    EXPECT_EQ(g - h, "86419753108641975310864197520");
    EXPECT_EQ(g * h, "12193263112862162186216216216919326311286216216216");
    EXPECT_EQ(g / h, "124");

    Multiprecision i("0");
    Multiprecision j("123456789012345678901234567890");
    EXPECT_EQ(j / i, "0");

    Multiprecision r("987654321098765432109876543210");
    Multiprecision s("123456789012345678901234567890");
    EXPECT_EQ(r % s, "987654321098765432109876543210");

    Multiprecision t("-987654321098765432109876543210");
    Multiprecision u("123456789012345678901234567890");
    EXPECT_EQ(t % u, "-987654321098765432109876543210");
}

TEST(Arithmetic, Complex) {
    Multiprecision a("123456789012345678901234567890"), b("987654321098765432109876543210"), c("123"), d = 9223372036854775808U;
    Multiprecision e = 9223372036854775808U, f("987"), g("-123456789012345678901234567890"), h("-987654321098765432109876543210");
    Multiprecision i("0"), j("123456789012345678901234567890"), r("987654321098765432109876543210"), s("123456789012345678901234567890");
    Multiprecision t("-987654321098765432109876543210"), u("123456789012345678901234567890");

    Multiprecision complex = ((((a + b) * c / d % e) - f * 4096) / 2) + (g * h - j) % ((r + s + t + u) / 40);
    EXPECT_EQ(complex, "");
}
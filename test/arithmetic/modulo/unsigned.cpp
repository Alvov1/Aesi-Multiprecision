#include <gtest/gtest.h>
#include "../../../Aeu.h"

TEST(Unsigned_Modulo, Basic) {
    Aeu128 one = 1u, zero = 0u, ten = 10u, two = 2u;
    EXPECT_EQ(zero % one, zero);
    EXPECT_EQ(ten % two, 0u);
    EXPECT_EQ(two % ten, 2u);
    EXPECT_EQ(ten % one, 0u);
    EXPECT_EQ(one % ten, 1u);
}

TEST(Unsigned_Modulo, Huge) {
    {
        Aeu512 l = "1783226737224736337522964318179999023462659013680417186304521084051448770463651068950508494580637178936626484511014232321636328902899469917237903746.",
                r = "8268678513111315215.";
        EXPECT_EQ(l % r, "3906061104977397816."); //62 bits
    }
}

TEST(Unsigned_Modulo, HugeAssignment) {
    {
        Aeu512 l = "2151938434192415145579751708926490132935797928070425617291102866202879281258310823134668670586706134684879999165104800873826978749700226883770345636.",
                r = "8815236785344484283.";
        l %= r; EXPECT_EQ(l, "8484932845198839036."); //63 bits
    }
}
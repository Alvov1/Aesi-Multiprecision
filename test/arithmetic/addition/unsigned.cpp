#include <gtest/gtest.h>
#include "../../../Aeu.h"

TEST(Unsigned_Addition, Basic) {
    {
        Aeu128 zero = 0, m0 = 26359343;
        EXPECT_EQ(zero + m0, 26359343); EXPECT_EQ(m0 + zero, 26359343); EXPECT_EQ(zero + +m0, 26359343); EXPECT_EQ(m0 + +zero, 26359343);
        EXPECT_EQ(+zero + m0, 26359343); EXPECT_EQ(+m0 + zero, 26359343); EXPECT_EQ(+zero + +m0, 26359343); EXPECT_EQ(+m0 + +zero, 26359343);
        m0 += zero; EXPECT_EQ(m0, 26359343); m0 += +zero; EXPECT_EQ(m0, 26359343); +m0 += zero; EXPECT_EQ(m0, 26359343); +m0 += +zero; EXPECT_EQ(m0, 26359343);
    }
    {
        Aeu128 zero = 0, m1 = 14670384, m2 = 55908622;
        EXPECT_EQ(m1 + 0, 14670384); EXPECT_EQ(0 + m1, 14670384); EXPECT_EQ(m1 + zero, 14670384); EXPECT_EQ(m1 + +zero, 14670384);
        EXPECT_EQ(m1 + +zero, 14670384); EXPECT_EQ(zero + m1, 14670384); EXPECT_EQ(+zero + m1, 14670384); m1 += 0; EXPECT_EQ(m1, 14670384);
        m1 += zero; EXPECT_EQ(m1, 14670384); m1 += +zero; EXPECT_EQ(m1, 14670384);

        EXPECT_EQ(m2 + 0, 55908622); EXPECT_EQ(0 + m2, 55908622); EXPECT_EQ(m2 + zero, 55908622); EXPECT_EQ(m2 + +zero, 55908622);
        EXPECT_EQ(m2 + +zero, 55908622); EXPECT_EQ(zero + m2, 55908622); EXPECT_EQ(+zero + m2, 55908622); m2 += 0; EXPECT_EQ(m2, 55908622);
        m2 += zero; EXPECT_EQ(m2, 55908622); m2 += +zero; EXPECT_EQ(m2, 55908622);
    }
    {
        Aeu128 s1 = 0x24DFBE889, s2 = 0x193E161C, s3 = 0x51CDFC6, s4 = 0x1706808355;
        EXPECT_EQ(s1 + s1, 0x49BF7D112); EXPECT_EQ(s1 + s2, 0x26739fea5); EXPECT_EQ(s1 + s3, 0x25318c84f); EXPECT_EQ(s1 + s4, 0x19547c6bde);
        EXPECT_EQ(s2 + s1, 0x26739fea5); EXPECT_EQ(s2 + s2, 0x327c2c38); EXPECT_EQ(s2 + s3, 0x1e5af5e2); EXPECT_EQ(s2 + s4, 0x171fbe9971);
        EXPECT_EQ(s3 + s1, 0x25318c84f); EXPECT_EQ(s3 + s2, 0x1e5af5e2); EXPECT_EQ(s3 + s3, 0xa39bf8c); EXPECT_EQ(s3 + s4, 0x170b9d631b);
        EXPECT_EQ(s4 + s1, 0x19547c6bde); EXPECT_EQ(s4 + s2, 0x171fbe9971); EXPECT_EQ(s4 + s3, 0x170b9d631b); EXPECT_EQ(s4 + s4, 0x2e0d0106aa);
    }
}

TEST(Unsigned_Addition, Huge) {
    {
        Aeu512 l = "2326333277280079839475608346577929682764367222989747129677338493683526466858744456372666943713731781165063938406187762357596980704175585567928997948.",
                r = "2347185060395110497228274602933431846575460587905408209843081337301055068653709470534007082503369374603958788874525927790259452449305937699479895621.";
        EXPECT_EQ(l + r, "4673518337675190336703882949511361529339827810895155339520419830984581535512453926906674026217101155769022727280713690147856433153481523267408893569."); //491 bits
    }
    {
        Aeu512 l = "2084968904965514854164401136984278052277015579058410911748938532599696512627858610543477473441118765147536959795319305738778115443272756471755008798.",
                r = "3011608561465224393325652298867899453986156359316987340143220500269738651420679516607016024074229346935054832156193008373356198379689789237805122764.";
        EXPECT_EQ(l + r, "5096577466430739247490053435852177506263171938375398251892159032869435164048538127150493497515348112082591791951512314112134313822962545709560131562."); //491 bits
    }
    {
        Aeu512 l = "2275366039453213685542581191215198102329781195587725539560468921701957929787401604738599717988683526214129158930719469769065535773092172374630724356.",
                r = "654346180418915424542853052992437722622020918583973125633982718476243599659069848262660323680138799735250109642238170763709152511739410398020022349.";
        EXPECT_EQ(l + r, "2929712219872129110085434244207635824951802114171698665194451640178201529446471453001260041668822325949379268572957640532774688284831582772650746705."); //490 bits
    }
    {
        Aeu512 l = "795043322236712817600563504916978585459801078459602424644118331361773438215198348938279705088795931036430562405317551174258503829505753527603433235.",
                r = "1911780145530943851760457877400608196524846303972715844445569662557255899002224532555359574430999686287327005284541153306791001897217035085778444580.";
        EXPECT_EQ(l + r, "2706823467767656669361021382317586781984647382432318269089687993919029337217422881493639279519795617323757567689858704481049505726722788613381877815."); //490 bits
    }
    {
        Aeu512 l = "3189179080248321401374332292551321230234184225557668216629204807875576189191254606003852105830972856227591451315213738059275104312847476565547081103.",
                r = "1277297715369223473516121032141833896259635788136060361757083154045873797839405702450795872650800328681546471245539752318538138283315046227163842700.";
        EXPECT_EQ(l + r, "4466476795617544874890453324693155126493820013693728578386287961921449987030660308454647978481773184909137922560753490377813242596162522792710923803."); //491 bits
    }
    {
        Aeu512 l = "3062737479960004771856534088933143472670065361511174844797997290084032630498735604389834719886515633029594750854343927723199780278223074685972225132.",
                r = "3079529568491312010202541720845406842193504592813461265467583060296140850054935006247588884110612223499552890744219493231477506779385661550292719163.";
        EXPECT_EQ(l + r, "6142267048451316782059075809778550314863569954324636110265580350380173480553670610637423603997127856529147641598563420954677287057608736236264944295."); //491 bits
    }
    {
        Aeu512 l = "1824338937952109913212489556392442511828323684123877683874629692141346838258590308456963807158100596331780030834410242656370174078912085701269655246.",
                r = "1467375151866315214769335382550491379408165003326440843674669220366977051480102222898506002147929778654106675944987086988124596570124529232166902522.";
        EXPECT_EQ(l + r, "3291714089818425127981824938942933891236488687450318527549298912508323889738692531355469809306030374985886706779397329644494770649036614933436557768."); //491 bits
    }
    {
        Aeu512 l = "2874045579746892532536798132494318541298468802387945117688711347198410269255603247341470032608232922923730311664339969695218938261792577648803321560.",
                r = "1905064056649225502733452539269479425678148123081957335597502872634894807853079715227992135559414389608824067926754859779856074264871565494589285204.";
        EXPECT_EQ(l + r, "4779109636396118035270250671763797966976616925469902453286214219833305077108682962569462168167647312532554379591094829475075012526664143143392606764."); //491 bits
    }
    {
        Aeu512 l = "3077383058935363232606380238960692405930165727221723820728671070046980827920781644645478745621750524727315388137187624883890845209645444546651501995.",
                r = "3034905344036197812496595032197516707604987758730882728001892256300442951459013072685939852506576454694416389432799817534171581728575794237193981368.";
        EXPECT_EQ(l + r, "6112288402971561045102975271158209113535153485952606548730563326347423779379794717331418598128326979421731777569987442418062426938221238783845483363."); //491 bits
    }
    {
        Aeu512 l = "1687114615769275365046803580866619748487525197703191388552196749523116702719783975039068500791200473096402823374319407571276189737338877814025686359.",
                r = "687909671167337488748196808600581999107702565248852471619932039290668731984079930966403824099876285217898333930695019075331783682049253530955681624.";
        EXPECT_EQ(l + r, "2375024286936612853795000389467201747595227762952043860172128788813785434703863906005472324891076758314301157305014426646607973419388131344981367983."); //490 bits
    }
    {
        Aeu512 l = "2059193392911335314876882888346888021971582551705058736737321167811162423380891877950662112346934912489491648897839317600916059123009598379145313556.",
                r = "330669041127952886913718510884074040444931899178642226489348730738736207957105353979535601196653392617990301709046931441562028109949879198544054841.";
        EXPECT_EQ(l + r, "2389862434039288201790601399230962062416514450883700963226669898549898631337997231930197713543588305107481950606886249042478087232959477577689368397."); //490 bits
    }
    {
        Aeu512 l = "1138669000199927840077540861366990709760873634364179283706512896632864445889851784017644232750136143353801305018034181440302936682201050482444121645.",
                r = "144279740931432521841058558309093317446155450050580006615239472534610895025284288933334035262826143608006310618858045175530841549550970880716459397.";
        EXPECT_EQ(l + r, "1282948741131360361918599419676084027207029084414759290321752369167475340915136072950978268012962286961807615636892226615833778231752021363160581042."); //489 bits
    }
    {
        Aeu512 l = "2033572746809966056465649819284587975146970488542435635200192367397749585456784925909020792095567951445384192040882469427205962885511912240888742712.",
                r = "2190137146633192062244403363973807840885301658790604021919116533716850202314919054111200447266488671541626208400118261602152439420036021453960249822.";
        EXPECT_EQ(l + r, "4223709893443158118710053183258395816032272147333039657119308901114599787771703980020221239362056622987010400441000731029358402305547933694848992534."); //491 bits
    }
    {
        Aeu512 l = "695505277729096770822468172078542259027107353755970371025312838444487402172192828283085059717544878075986250870702677369055792632750677271382937255.",
                r = "602152246750621097334758246927238345698581442390134456949276532628621401612664148263829196448499257680592654667541575311408989361694814270897427425.";
        EXPECT_EQ(l + r, "1297657524479717868157226419005780604725688796146104827974589371073108803784856976546914256166044135756578905538244252680464781994445491542280364680."); //489 bits
    }
    {
        Aeu512 l = "1199780139065913961882344674579687081648444782854672231700316783473817321716087185695373376683364985998149552210291723983096688852965259142845863995.",
                r = "761155266613225517342313141783329843595322902005017397020033105126100995068360553093254393396377911324118135621570504610047080445660404309847801141.";
        EXPECT_EQ(l + r, "1960935405679139479224657816363016925243767684859689628720349888599918316784447738788627770079742897322267687831862228593143769298625663452693665136."); //490 bits
    }
    {
        Aeu512 l = "804772400416443385598883736569761868057260643769784875262592864297409612871692054962011943711934700811910393231018964223953528180824809208954670808.",
                r = "728559615611436572914412832975598824926933338140527445101399542349375406003027724222139565567391497645816431801851104766155436554641011683106649047.";
        EXPECT_EQ(l + r, "1533332016027879958513296569545360692984193981910312320363992406646785018874719779184151509279326198457726825032870068990108964735465820892061319855."); //489 bits
    }
    {
        Aeu512 l = "1467563972853758163014180117907863899445775959549061423921249236658437846942207360245740899305975251536798728958975960216961396312858360321541235052.",
                r = "1537067106055153905997773602926739192119401692858728990211078389864969942712527755758001282595624239536677748125204706966064717241916408534831632868.";
        EXPECT_EQ(l + r, "3004631078908912069011953720834603091565177652407790414132327626523407789654735116003742181901599491073476477084180667183026113554774768856372867920."); //490 bits
    }
    {
        Aeu512 l = "258830593822405883591042661987963311451876228518253587017995761564687832633031380601188320823511350648884063269597024663531468995930595683894564387.",
                r = "417495487522570542005378249529660407594016195723202647176663398775755166558340802240312540302695441209416317036973679966971954147183750950109177244.";
        EXPECT_EQ(l + r, "676326081344976425596420911517623719045892424241456234194659160340442999191372182841500861126206791858300380306570704630503423143114346634003741631."); //488 bits
    }
    {
        Aeu512 l = "1560299701326045055311593083053188291882855690846570461647173653432457298809367046981158333490321115967828575063095689034684939526270977330529999627.",
                r = "2312758424669211457035074681971216791943002815502986073332140798971743589597769944830158584455969668920736427580146254585787173174090384206035054116.";
        EXPECT_EQ(l + r, "3873058125995256512346667765024405083825858506349556534979314452404200888407136991811316917946290784888565002643241943620472112700361361536565053743."); //491 bits
    }
    {
        Aeu512 l = "2869478417070016355722172395302887646078692785127165551765287809336035735489578510586401575312315707051815693729530074810868381026244488137537582555.",
                r = "3069509002611129466469389756827128051358940143284274728109127895391411605930376122901664348168713646537135442302137522560956242903213893119923389037.";
        EXPECT_EQ(l + r, "5938987419681145822191562152130015697437632928411440279874415704727447341419954633488065923481029353588951136031667597371824623929458381257460971592."); //491 bits
    }
    {
        Aeu512 l = "1757038926527182630495661022993740051509388198802999897603647503683044688273174447565359378289452704825042878132121367125288789771835150007764829505.",
                r = "1624735391312977923561031739461343403229820660388865183545777165968691983161147319712733663681110005445286056114467224479430486209367225933887480065.";
        EXPECT_EQ(l + r, "3381774317840160554056692762455083454739208859191865081149424669651736671434321767278093041970562710270328934246588591604719275981202375941652309570."); //491 bits
    }
    {
        Aeu512 l = "634951426114779987660644429710086986639259764276293827169348164255528553623152734533810123408066911452771687677321980317571109562887230652955380001.",
                r = "1203368212147335419506111274222346554376329134306253399291656517572027971355047036410174507098902376974083341395300820930495884425241037155010323894.";
        EXPECT_EQ(l + r, "1838319638262115407166755703932433541015588898582547226461004681827556524978199770943984630506969288426855029072622801248066993988128267807965703895."); //490 bits
    }
    {
        Aeu512 l = "180777737086343475286431254234777146793224117768255889309393204153983241221552716533594083983696119292031109718879028165899280762136456016567602517.",
                r = "2769176366010320794872376896255262907614542384003249012321325388483699553346404280516541012389381115180820271650903637943493637886404236890505709500.";
        EXPECT_EQ(l + r, "2949954103096664270158808150490040054407766501771504901630718592637682794567956997050135096373077234472851381369782666109392918648540692907073312017."); //490 bits
    }
    {
        Aeu512 l = "2529851479815235913665783899253540376384414519056844957142892783973850925716862355527284351179054645753864373718374573919633230761938600345589187798.",
                r = "2206113921343787208612478637076974757887291539234058711084675599583632493618123447257808754439517548853553450424643687967910818027504902070117383660.";
        EXPECT_EQ(l + r, "4735965401159023122278262536330515134271706058290903668227568383557483419334985802785093105618572194607417824143018261887544048789443502415706571458."); //491 bits
    }
    {
        Aeu512 l = "1433128754719211140943513925666870720030436516881197797168280632069390812541151766274825222966695464971826891238522561008766849490465156314553482042.",
                r = "2659668506077424749349425953153708104612320524402429420770284062132298075236834552262222275832448716208331812449650210714273379807125024094177071423.";
        EXPECT_EQ(l + r, "4092797260796635890292939878820578824642757041283627217938564694201688887777986318537047498799144181180158703688172771723040229297590180408730553465."); //491 bits
    }
    {
        Aeu512 l = "434350010329521544451458828221001526931360752051876724118617321089284808182155329495295122293938681164348033725702264262014983755167314397281835381.",
                r = "1243652340618007546065402743816669736721896160570160584233060772859664070848913739513107636660622153736342481715004102517326668967760896625846217640.";
        EXPECT_EQ(l + r, "1678002350947529090516861572037671263653256912622037308351678093948948879031069069008402758954560834900690515440706366779341652722928211023128053021."); //490 bits
    }
    {
        Aeu512 l = "108272655786432783373915694841819774073428368623573518225201464350121345334485841922675377277545886465235282370294797538520271726311109846208074885.",
                r = "1885396642503545873008161993286069767084663244307874294431739499428207909615023408859148622071570847600119294840832409930529882802694391627444508553.";
        EXPECT_EQ(l + r, "1993669298289978656382077688127889541158091612931447812656940963778329254949509250781823999349116734065354577211127207469050154529005501473652583438."); //490 bits
    }
    {
        Aeu512 l = "2562917122023400804208555882279571332598173028099665236952861866935151191011016977892508583102888975452226141660639812227548910942721171800003855487.",
                r = "2511885792476385570413161462133657927944555302743408627632952952451146013787641768967564570575132846033445155349470187903751397851527084985219337552.";
        EXPECT_EQ(l + r, "5074802914499786374621717344413229260542728330843073864585814819386297204798658746860073153678021821485671297010110000131300308794248256785223193039."); //491 bits
    }
    {
        Aeu512 l = "2642910391686090838704915125787783272555540509799430789402604551258339297275661337716005280581253613763402727361114396939850055719710299942226938339.",
                r = "436241669014051188083617777337130523740905511398856546973611465210516436008020161989452862261665694618626877500553398130531079267650708660040063258.";
        EXPECT_EQ(l + r, "3079152060700142026788532903124913796296446021198287336376216016468855733283681499705458142842919308382029604861667795070381134987361008602267001597."); //490 bits
    }
    {
        Aeu512 l = "1653756056698727242190400859719343016142416492046380581023692171620943593778668424692818389806046802081376283963731444433962433411637754243812079353.",
                r = "1730971026189392354748829663406394825476044912342832302118904670314767170861284077562831461253881990528121686600296847092025174178495912533509492676.";
        EXPECT_EQ(l + r, "3384727082888119596939230523125737841618461404389212883142596841935710764639952502255649851059928792609497970564028291525987607590133666777321572029."); //491 bits
    }
    {
        Aeu512 l = "2580756438248083389818116210680756866876795668020717665966308942868821670644134214752643097053134318495666906951628587296359208191948946305493505458.",
                r = "253211810345891802717161540159323278414574746697176008372795822201894975198112176394832655681977415378288867399657755885703446423403242801204323396.";
        EXPECT_EQ(l + r, "2833968248593975192535277750840080145291370414717893674339104765070716645842246391147475752735111733873955774351286343182062654615352189106697828854."); //490 bits
    }
    {
        Aeu512 l = "1088374887355750147461827141928728809844745501096318354967443554529686536575501360558473346493714210327484847724833442598727792182725821506312286773.",
                r = "2640118951430516134802685821741910586911593366463748280408244801444255183111610542391191641453058199997706238789402781032533825247027713977946527614.";
        EXPECT_EQ(l + r, "3728493838786266282264512963670639396756338867560066635375688355973941719687111902949664987946772410325191086514236223631261617429753535484258814387."); //491 bits
    }
    {
        Aeu512 l = "1942474622206124160006201489096695471343255391800614764938955352346922875731983944729684895076747510742247684402963580671962988979075391315258364900.",
                r = "2413537622015730296317819795008720968329713520351461395270217064117459267681869296815526467106013571245038232671836064602746078404761233193717295932.";
        EXPECT_EQ(l + r, "4356012244221854456324021284105416439672968912152076160209172416464382143413853241545211362182761081987285917074799645274709067383836624508975660832."); //491 bits
    }
    {
        Aeu512 l = "1229354064490136430160752193721342216867073779272562572335327928510363279865732147639255503493327450798773371524264668364099598759173892685207801616.",
                r = "1024693875041968275891907275798584878329663146711217536273335070138260550870719919749517278618943900210222670652380984465597945629383748592811424463.";
        EXPECT_EQ(l + r, "2254047939532104706052659469519927095196736925983780108608662998648623830736452067388772782112271351008996042176645652829697544388557641278019226079."); //490 bits
    }
    {
        Aeu512 l = "666137746441540602917919284066933917468586641204003446307674310332154954397083563639428389151356480338991342383040884233358838542432868920584837333.",
                r = "834019336898461844200669478359827866881069596988035815763583439449215760281542467988246007869152385972189960771491560573762220071037019116817530376.";
        EXPECT_EQ(l + r, "1500157083340002447118588762426761784349656238192039262071257749781370714678626031627674397020508866311181303154532444807121058613469888037402367709."); //489 bits
    }
    {
        Aeu512 l = "80379119815891088476756045589550787995772897427696234176410469401246140287428557277081592509146563119362544723821953983060356902694095120028061950.",
                r = "3014679853378968818805196016524799664006472955679367327884811872638707572120260967950022222516856513265254845855477218834023663450827431937175598183.";
        EXPECT_EQ(l + r, "3095058973194859907281952062114350452002245853107063562061222342039953712407689525227103815026003076384617390579299172817084020353521527057203660133."); //490 bits
    }
    {
        Aeu512 l = "1041729946303797068533103474449590600501812525633557308974911733699222266796327855305943945171862813547954135588305112331870728952041924506817165291.",
                r = "1013796115519612384501967578635987581965749901777095527461205610912385457828769587610949760608789779559084042385274340971378259565573372789915290033.";
        EXPECT_EQ(l + r, "2055526061823409453035071053085578182467562427410652836436117344611607724625097442916893705780652593107038177973579453303248988517615297296732455324."); //490 bits
    }
    {
        Aeu512 l = "1184505013561516657997858492842491548454184724308978307958230321763582087937550515512610700161469307585969293325579409588115165534212968087199651832.",
                r = "2116790591232323948118557653833659236477302989838016674296885526237731851884933880200133078816501027758892968030592627860346828804609337842332084124.";
        EXPECT_EQ(l + r, "3301295604793840606116416146676150784931487714146994982255115848001313939822484395712743778977970335344862261356172037448461994338822305929531735956."); //491 bits
    }
    {
        Aeu512 l = "1645769158220678176960423066014278719439524692741210676975903122920643197647986779708112550950322428363855281227175635008074555258076450656328745298.",
                r = "858594667207691720038317117041752908690357064164151172153667149189461791672906559891130159892916078950485832577388305412808235080125498260932842496.";
        EXPECT_EQ(l + r, "2504363825428369896998740183056031628129881756905361849129570272110104989320893339599242710843238507314341113804563940420882790338201948917261587794."); //490 bits
    }
    {
        Aeu512 l = "1323729689116703111206885719768207425006369414717045235181704745004754923712304867968884644198527896219755788971112640163611834735969895161579559190.",
                r = "1325529134362336640387323622964634875372151529754402828938627045461337704871514451539712674317861860386193459296446999829021719741477177083994391066.";
        EXPECT_EQ(l + r, "2649258823479039751594209342732842300378520944471448064120331790466092628583819319508597318516389756605949248267559639992633554477447072245573950256."); //490 bits
    }
}

TEST(Unsigned_Addition, HugeAssignment) {
    {
        Aeu512 l = "157398389073863840544417511339818273758723060248753121479191002097450222704310077442881094234123139987464824792910688568012737816097137929407927199.",
                r = "339236136114602883445460178280566088250454247752207806981592701628313330682609000687580799034495264485601116317383081025729148676917836219827284915.";
        l += r; EXPECT_EQ(l, "496634525188466723989877689620384362009177308000960928460783703725763553386919078130461893268618404473065941110293769593741886493014974149235212114."); //488 bits
    }
    {
        Aeu512 l = "2125696047134164931942658152716600861618401888264936413767281087673253513186883975821225193695823491934783474008146084026826689046511239147325074055.",
                r = "2137251215168602767689513217324418125766914461071205835754460553566866725960451323301954031526905510269196702983037399622837815683303915748676280500.";
        l += r; EXPECT_EQ(l, "4262947262302767699632171370041018987385316349336142249521741641240120239147335299123179225222729002203980176991183483649664504729815154896001354555."); //491 bits
    }
    {
        Aeu512 l = "197910006086493284050668487064580364686548452883846256298951119218304543663829818095573638239742693076096798340247918741199430977025383259117090462.",
                r = "940592080457410508987062641007416040748487504034931473867256616979022212250925889311739418602605904944936327644363300881783116572483262381850644089.";
        l += r; EXPECT_EQ(l, "1138502086543903793037731128071996405435035956918777730166207736197326755914755707407313056842348598021033125984611219622982547549508645640967734551."); //489 bits
    }
    {
        Aeu512 l = "1806686226326714034990180811803754731443176884209411171493035834359807439816820349198460348648631686800982785611664295231349766661449925770706551867.",
                r = "1590562268075922364407738516035967112643444215358703302411321780555514437114078045181233506693660806517563658616956408255302053623725107063573982030.";
        l += r; EXPECT_EQ(l, "3397248494402636399397919327839721844086621099568114473904357614915321876930898394379693855342292493318546444228620703486651820285175032834280533897."); //491 bits
    }
    {
        Aeu512 l = "158914227465485491866433814987532364385363012849790037350782912751994757044084555037624148120111747216948006359274493615457430479626703179652580813.",
                r = "3136201409742567518917581126418046502319798824537409239074330000217401030208698282263416955891385043159205277631105314885321336502744854039122464509.";
        l += r; EXPECT_EQ(l, "3295115637208053010784014941405578866705161837387199276425112912969395787252782837301041104011496790376153283990379808500778766982371557218775045322."); //491 bits
    }
    {
        Aeu512 l = "1560774105846148489936264161550540475143907761402821483227845107948088330117378335966500156543591443521312093890042346663268633896028650398349362337.",
                r = "1877052720104269886960485572836774681280475337561447716091172899390256402178820415415072230530981548197354049929925205689844954182834245855771884424.";
        l += r; EXPECT_EQ(l, "3437826825950418376896749734387315156424383098964269199319018007338344732296198751381572387074572991718666143819967552353113588078862896254121246761."); //491 bits
    }
    {
        Aeu512 l = "2180651068038618850767688908474559994819389145132515728826491867053440219149611868361264486446188117893480521263436449253041346999642564325414723143.",
                r = "2076093710358950688336929416165562944309934136203844644430672814925786096375211847868118636803443312365728698216120047677090177387335523968625576774.";
        l += r; EXPECT_EQ(l, "4256744778397569539104618324640122939129323281336360373257164681979226315524823716229383123249631430259209219479556496930131524386978088294040299917."); //491 bits
    }
    {
        Aeu512 l = "364015611305145969808383791777235171162900444616589230245000589710754530588917403735909688708726836912201599589539170677143531634803754850710195888.",
                r = "139135858343923898739730453146827710812446035724781432840083924051991853773252328241755757565616829239764872044914887959531582362629587119892889772.";
        l += r; EXPECT_EQ(l, "503151469649069868548114244924062881975346480341370663085084513762746384362169731977665446274343666151966471634454058636675113997433341970603085660."); //488 bits
    }
    {
        Aeu512 l = "66877910201801210662506738263566527836255851522789828057592829383224290886452124185497743602775926225791391882958373868940549442412412998406771528.",
                r = "2262117740934776074972091738546282258423394138242651946346208620783520813437817384095060178243993286464255583539326956557346860872257901527389922460.";
        l += r; EXPECT_EQ(l, "2328995651136577285634598476809848786259649989765441774403801450166745104324269508280557921846769212690046975422285330426287410314670314525796693988."); //490 bits
    }
    {
        Aeu512 l = "2640522378808357615487582306041511408127875974183509079820286645179687422266592321920548383219187146140661149106989880729995984750313704928312912846.",
                r = "1576352764097854926116101180461185491189514241929272468201106112240263859985123132110584225297021385407469198183438883700521457397546498243003518729.";
        l += r; EXPECT_EQ(l, "4216875142906212541603683486502696899317390216112781548021392757419951282251715454031132608516208531548130347290428764430517442147860203171316431575."); //491 bits
    }
    {
        Aeu512 l = "573377898911889884042558552423028839125971508465130423721153380304747975496505343207531733083486864344923687295477054712196984938625297145357000754.",
                r = "2377970767742501304826656150943569693497162220743321207943906823508896202368774912598042245275391168587503154982165553388668544145261995020382989384.";
        l += r; EXPECT_EQ(l, "2951348666654391188869214703366598532623133729208451631665060203813644177865280255805573978358878032932426842277642608100865529083887292165739990138."); //490 bits
    }
    {
        Aeu512 l = "525059428964706117994612045749583820256154450124437754711642879929723281105299583066030013780533421756507226125656021077275891291620108390805178155.",
                r = "2091429480065620776869910015150610761821013287416397789290158193149671985713608390343889539826910799830366391518862395561960735396730540616127621936.";
        l += r; EXPECT_EQ(l, "2616488909030326894864522060900194582077167737540835544001801073079395266818907973409919553607444221586873617644518416639236626688350649006932800091."); //490 bits
    }
    {
        Aeu512 l = "2028487084635505429339286820316367148410993387584820468092255746707448309571727780954619801520125981823099809556211096733124815484132670977115167107.",
                r = "1322496739975785445054191129465481858703001393134102067949898825434433801602594363504927970331468551508309607435310501322329046834532320131798262234.";
        l += r; EXPECT_EQ(l, "3350983824611290874393477949781849007113994780718922536042154572141882111174322144459547771851594533331409416991521598055453862318664991108913429341."); //491 bits
    }
    {
        Aeu512 l = "3049827024022606640876874357290810384852147289378197076802305634572443099196594302361484009318836392799628815637299881405733183031250632070339979588.",
                r = "170345621251403591747186852188286456137118462322532489901381816649319083556718015120916809646315071480710868255565581282527568212933496528215168693.";
        l += r; EXPECT_EQ(l, "3220172645274010232624061209479096840989265751700729566703687451221762182753312317482400818965151464280339683892865462688260751244184128598555148281."); //491 bits
    }
    {
        Aeu512 l = "180956416361593738040322475722918278679554104793765237329262668038734514678657403272346494010051728088543803732275272229858635985598087969200314190.",
                r = "722340774429703572848218377309108421592916527399962453403788441396887664076230445899826694667196105762628215982148082869687205576241089140939448194.";
        l += r; EXPECT_EQ(l, "903297190791297310888540853032026700272470632193727690733051109435622178754887849172173188677247833851172019714423355099545841561839177110139762384."); //489 bits
    }
    {
        Aeu512 l = "735808381126653129506868545099339348810377633181689845755123815506018284175454529910245263996346996851959640242861502308542207943712983162771760574.",
                r = "1448041236752078312679418429096157617825791113650179204892995560751433689642288855723238834070127522595028163879470222616118481301189859966380334946.";
        l += r; EXPECT_EQ(l, "2183849617878731442186286974195496966636168746831869050648119376257451973817743385633484098066474519446987804122331724924660689244902843129152095520."); //490 bits
    }
    {
        Aeu512 l = "1616503389678790506139297099574409546348029958668988467517672817819668902869221305619246163935290429627008346094340267328706987991966377504527751975.",
                r = "3121585454864368876107952059491113715762273206577681055372503597387398682606260006722977524235290801607533906752114531426373233113143535778374854259.";
        l += r; EXPECT_EQ(l, "4738088844543159382247249159065523262110303165246669522890176415207067585475481312342223688170581231234542252846454798755080221105109913282902606234."); //491 bits
    }
    {
        Aeu512 l = "972449612741162683369731431623615638645960610259112032185349862397362102698777695619047310771835379745625303616504580836106382669187868812967340237.",
                r = "2168508046231766278564660939318389473346336468481685319494525042627619057269583263760141142729248377170422896043566163548843332762023595327001471595.";
        l += r; EXPECT_EQ(l, "3140957658972928961934392370942005111992297078740797351679874905024981159968360959379188453501083756916048199660070744384949715431211464139968811832."); //490 bits
    }
    {
        Aeu512 l = "2542210215923273566607988800764932768616793075553088315592698136002880444451034588812573900033983753717536242823728697422023588507053032701200454838.",
                r = "1508801491157355938461354293382960685408561242439139750562298807293821831604280980254015881491396965172072521727941852313163458240484411090466636460.";
        l += r; EXPECT_EQ(l, "4051011707080629505069343094147893454025354317992228066154996943296702276055315569066589781525380718889608764551670549735187046747537443791667091298."); //491 bits
    }
    {
        Aeu512 l = "2862489719754315370457804068120476327470562062214845552021518370577658368700986583728186077531998873005921692960587774933722519620067189382361727019.",
                r = "2648399274661155638236455697440316512774382260134778017026016905612147013946893874968196852996078928989094914704112816679960407928109534514825001695.";
        l += r; EXPECT_EQ(l, "5510888994415471008694259765560792840244944322349623569047535276189805382647880458696382930528077801995016607664700591613682927548176723897186728714."); //491 bits
    }
    {
        Aeu512 l = "1592352605713327037394342362844308091615871386053865333093847879155581053303679731245300178921922227104454729768503226039129879942869285985220160189.",
                r = "805930407311845390119730875025193115821039698759883937473173662996305006507070206237150480948028116237898039190398904839310977917900353633582868050.";
        l += r; EXPECT_EQ(l, "2398283013025172427514073237869501207436911084813749270567021542151886059810749937482450659869950343342352768958902130878440857860769639618803028239."); //490 bits
    }
    {
        Aeu512 l = "1213710921782594321838191794401857406272068864010012327054763718731045789345666293020414380833109582178372681789103991090347803939520508432600967800.",
                r = "1679758707630044718805977674226368690743595957704219503667259471748679147977338716291271912123143185342193909128643313668994453565127876726778022368.";
        l += r; EXPECT_EQ(l, "2893469629412639040644169468628226097015664821714231830722023190479724937323005009311686292956252767520566590917747304759342257504648385159378990168."); //490 bits
    }
    {
        Aeu512 l = "2325274674353847899443892268294587063169043195677808705251119519034869398392232168313481780205779857692008567427404330334477162740263425384144615381.",
                r = "2441245084247568242768983790146351033578298939354326292506890753489394533192459976664485240290128245744963226689003674335261199976382971762567986869.";
        l += r; EXPECT_EQ(l, "4766519758601416142212876058440938096747342135032134997758010272524263931584692144977967020495908103436971794116408004669738362716646397146712602250."); //491 bits
    }
    {
        Aeu512 l = "1137397152387152255436379898148756083555153531724143500286521981654039098626284314112609136365173696096966522010591394413005651278177206984203570686.",
                r = "775297397405685404475352836779416119033945540961438922147576560910256184528510670140233736270325841087636247069626303696555485273181310660520594834.";
        l += r; EXPECT_EQ(l, "1912694549792837659911732734928172202589099072685582422434098542564295283154794984252842872635499537184602769080217698109561136551358517644724165520."); //490 bits
    }
    {
        Aeu512 l = "2038213105004140914070015422507002678251576191173729586915167232059354256454102295229230280657913507844595097911566346723771374181943132873809348045.",
                r = "3144501382981883218906738832088774963227067309101779994411580212396350376271529389730505645113409388349536544676760431041601265649143793994967923659.";
        l += r; EXPECT_EQ(l, "5182714487986024132976754254595777641478643500275509581326747444455704632725631684959735925771322896194131642588326777765372639831086926868777271704."); //491 bits
    }
    {
        Aeu512 l = "2228145648724637796188662350170740166753583378671476177635180712320854997602156533964850677542862809483571670001077307126181832749688762336000231299.",
                r = "1356291154360429934337465073902066542084670394075411582724947217522649154564603839825296365131475592332771992461467586294404738166336425916612396391.";
        l += r; EXPECT_EQ(l, "3584436803085067730526127424072806708838253772746887760360127929843504152166760373790147042674338401816343662462544893420586570916025188252612627690."); //491 bits
    }
    {
        Aeu512 l = "290211746126292184591505124982281700761212996384069766854749381063694074759773105205336399504833302999369730307567410527278655739957409474354562192.",
                r = "488261493453429869701835866875062318140796750594460932978565387591630660606753711153745769201716397646127772232251325357200799368291135436283658181.";
        l += r; EXPECT_EQ(l, "778473239579722054293340991857344018902009746978530699833314768655324735366526816359082168706549700645497502539818735884479455108248544910638220373."); //488 bits
    }
    {
        Aeu512 l = "213745801667848870591185570708513090081531694927029383700030599370256271812315263279646988976816848580074143159941609955278510267199387935767402244.",
                r = "1515039772753858024251132591111186144190328415995712045429404215036978863538127550206091407100751389890876532812883787024155283930439884018047395581.";
        l += r; EXPECT_EQ(l, "1728785574421706894842318161819699234271860110922741429129434814407235135350442813485738396077568238470950675972825396979433794197639271953814797825."); //490 bits
    }
    {
        Aeu512 l = "1068713278388716221687444184206017329192301129661784211049198509889472437296131731079532542554062632605000509901711559001662651476891862181585785789.",
                r = "1567857938031101714344595060581361535607862042905727044719376399117442228343916338016876933978616112218880334165339119955536537592428224164515672378.";
        l += r; EXPECT_EQ(l, "2636571216419817936032039244787378864800163172567511255768574909006914665640048069096409476532678744823880844067050678957199189069320086346101458167."); //490 bits
    }
    {
        Aeu512 l = "342465751810105391265589087243874387095678357617918724172502471046357600936516606266268748988674643134686975186121248655149754574979996003624020536.",
                r = "2705903293496373911091797394458931636524358437618610618668280348324087288447530343161372545720465020647409650854371136143979321062258598097322095250.";
        l += r; EXPECT_EQ(l, "3048369045306479302357386481702806023620036795236529342840782819370444889384046949427641294709139663782096626040492384799129075637238594100946115786."); //490 bits
    }
    {
        Aeu512 l = "1378602946357442381629023919996578553192995018541293462089510270322408421032196142349634616131653168253412609374786725831383123216280998113442087057.",
                r = "2875209459214712072038311057749603714045623811027457202187024535756460123854588345557429276764678602494778087108219920382555693350953006009023685589.";
        l += r; EXPECT_EQ(l, "4253812405572154453667334977746182267238618829568750664276534806078868544886784487907063892896331770748190696483006646213938816567234004122465772646."); //491 bits
    }
    {
        Aeu512 l = "1165203449340041590979244925730960343642291173775007495164477124214116135279004324800357785189487929891325447448488637808259171380584236777063998847.",
                r = "2910374004642156825578650156823494306030130193774885518303940524556326747651323889035966215888744015703250765525542205746340059546395795621424023869.";
        l += r; EXPECT_EQ(l, "4075577453982198416557895082554454649672421367549893013468417648770442882930328213836324001078231945594576212974030843554599230926980032398488022716."); //491 bits
    }
    {
        Aeu512 l = "412257938874190706838933146437721565260870492709866707704019169670002115489291397662906352856065767283821027846959087954749831737138397504985198156.",
                r = "2683127777562877706251987095410845983619736762159372310803589660442295810320247313711401691412856075257365477339013192009823889188654324251163937492.";
        l += r; EXPECT_EQ(l, "3095385716437068413090920241848567548880607254869239018507608830112297925809538711374308044268921842541186505185972279964573720925792721756149135648."); //490 bits
    }
    {
        Aeu512 l = "2733769448028131574962825368987180396410766321093228584557755007140138971857710525814907283659653162703885698500705459760463979113437803027061593711.",
                r = "2285359456562342699997402119328645694886660126650952351920851209775306056726108611654303594139054806445815585131100169142048462133670020504737256553.";
        l += r; EXPECT_EQ(l, "5019128904590474274960227488315826091297426447744180936478606216915445028583819137469210877798707969149701283631805628902512441247107823531798850264."); //491 bits
    }
    {
        Aeu512 l = "301552376518495170251789310295877962161102302026387236280564835732647613942056121523851990307855670526005731681434734084629769528735664099156712479.",
                r = "2298990668399054540323158141268809720540001470987151145857879516401546521905325069704242709070464423437957321248697280282511538640298070098868338517.";
        l += r; EXPECT_EQ(l, "2600543044917549710574947451564687682701103773013538382138444352134194135847381191228094699378320093963963052930132014367141308169033734198025050996."); //490 bits
    }
    {
        Aeu512 l = "3080427763115621154674374375748229792131157706511275098302972144832007168339109113570116573336980192360578243786995858449298961275368883855378576372.",
                r = "1363820181759188420958284956866427999643851837570458194674900776645305003203009606879438757656980311984782802782612961400598478730656416789513491426.";
        l += r; EXPECT_EQ(l, "4444247944874809575632659332614657791775009544081733292977872921477312171542118720449555330993960504345361046569608819849897440006025300644892067798."); //491 bits
    }
    {
        Aeu512 l = "44697882636846835643146266968906031974518429509464807071810991055505959726780071068139499128143143825001810697831194713327707180006914252486364794.",
                r = "239756001217462109557161495874007131753948477286447244167122667682599151903204343274278580810874563693485770382723303847777547006065612310052819384.";
        l += r; EXPECT_EQ(l, "284453883854308945200307762842913163728466906795912051238933658738105111629984414342418079939017707518487581080554498561105254186072526562539184178."); //487 bits
    }
    {
        Aeu512 l = "2500354891946750347229528675502211226726054801546019753850180257732538700330681189413322192635213459235095125552447001651312960671425199431322943993.",
                r = "1839128395490839643304040676692922919247204393410000884195071683497731452710279574717532494697226491286925221396790158482792395577470506235548387249.";
        l += r; EXPECT_EQ(l, "4339483287437589990533569352195134145973259194956020638045251941230270153040960764130854687332439950522020346949237160134105356248895705666871331242."); //491 bits
    }
    {
        Aeu512 l = "1647286870142984417674720910248801930652585628691454548981311148471034160089479511311550485894017629547409454182325868682527914959688472103222569483.",
                r = "1418839088963641526752238136626218025971835262015313441734613347067977856899951478382835000728647064427774433559435769208216200447413985276352594015.";
        l += r; EXPECT_EQ(l, "3066125959106625944426959046875019956624420890706767990715924495539012016989430989694385486622664693975183887741761637890744115407102457379575163498."); //490 bits
    }
    {
        Aeu512 l = "2657501214802440571266383316387685257436155779922829664970037763675605252574626980705681056974510314947327207743511932891862120147377612718379386184.",
                r = "79299829312378757760209772479203148856281584281866536970390464901937670687018564697429356219930191278951210428934283200619082044634007972580194221.";
        l += r; EXPECT_EQ(l, "2736801044114819329026593088866888406292437364204696201940428228577542923261645545403110413194440506226278418172446216092481202192011620690959580405."); //490 bits
    }
}

TEST(Unsigned_Addition, Increment) {
    Aeu512 m0 = 62492992;
    ++m0; ++m0; m0++; ++m0; m0++; ++m0; m0++; ++m0; m0++; ++m0;
    EXPECT_EQ(m0, 62493002);
    Aeu512 t0 = m0++, u0 = ++m0;
    EXPECT_EQ(t0, 62493002); EXPECT_EQ(u0, 62493004); EXPECT_EQ(m0, 62493004);

    Aeu512 m1 = -10775863;
    m1++; ++m1; m1++; ++m1; m1++; ++m1; m1++; ++m1; ++m1; ++m1; m1++; ++m1; ++m1;
    EXPECT_EQ(m1, -10775850);
    Aeu512 t1 = m1++, u1 = ++m1;
    EXPECT_EQ(t1, -10775850); EXPECT_EQ(u1, -10775848); EXPECT_EQ(m1, -10775848);

    Aeu512 m2 = 77428594;
    m2++; m2++; ++m2; m2++; m2++; m2++; ++m2; m2++; m2++; m2++; ++m2; m2++; ++m2; ++m2;
    EXPECT_EQ(m2, 77428608);
    Aeu512 t2 = m2++, u2 = ++m2;
    EXPECT_EQ(t2, 77428608); EXPECT_EQ(u2, 77428610); EXPECT_EQ(m2, 77428610);

    Aeu512 m3 = 77677795;
    ++m3; ++m3; ++m3; m3++; ++m3; m3++; ++m3; ++m3; m3++; ++m3; m3++; ++m3; m3++; m3++; m3++; m3++; m3++; ++m3;
    EXPECT_EQ(m3, 77677813);
    Aeu512 t3 = m3++, u3 = ++m3;
    EXPECT_EQ(t3, 77677813); EXPECT_EQ(u3, 77677815); EXPECT_EQ(m3, 77677815);

    Aeu512 m4 = -11780979;
    m4++; ++m4; m4++; ++m4; m4++; ++m4; m4++; ++m4; m4++; ++m4; ++m4; ++m4; m4++; ++m4; m4++; ++m4; ++m4; ++m4; ++m4;
    EXPECT_EQ(m4, -11780960);
    Aeu512 t4 = m4++, u4 = ++m4;
    EXPECT_EQ(t4, -11780960); EXPECT_EQ(u4, -11780958); EXPECT_EQ(m4, -11780958);

    Aeu512 m5 = -1;
    auto t5 = m5++;
    EXPECT_EQ(t5, -1);
    EXPECT_EQ(m5, 0);

    Aeu512 m6 = -1;
    auto t6 = ++m6;
    EXPECT_EQ(t6, 0);
    EXPECT_EQ(m6, 0);
}
